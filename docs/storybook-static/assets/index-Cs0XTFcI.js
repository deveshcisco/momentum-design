import{i as d,k as f}from"./lit-element-CHllvULs.js";import{u as v,C as m,n as l}from"./index-HW6KrQZO.js";import{r as c}from"./state-CWckTc1X.js";import{h as b}from"./index-CcvxQn6k.js";import{p as g}from"./index-BYMLCX4c.js";import{I as x}from"./iconprovider.component-CWYw8J7d.js";const C=[b,d`
    :host {
      --mdc-icon-fill-color: currentColor;
    }
    :host::part(icon) {
      height: 100%;
      width: 100%;
      fill: var(--mdc-icon-fill-color);
    }
  `],y=async(a,t,e)=>{const s=await fetch(`${a}/${t}.${e}`);if(!s.ok)throw new Error("There was a problem while fetching the icon!");const i=await s.text(),o=new DOMParser().parseFromString(i,"text/html").body.children[0];return o.setAttribute("data-name",t),o.setAttribute("part","icon"),o},z=v.constructTagName("icon"),p={NAME:void 0,SIZE:1};var I=Object.defineProperty,r=(a,t,e,s)=>{for(var i=void 0,o=a.length-1,h;o>=0;o--)(h=a[o])&&(i=h(t,e,i)||i);return i&&I(t,e,i),i};const u=class u extends m{constructor(){super(...arguments),this.name=p.NAME,this.ariaLabel=null,this.iconProviderContext=g.consume({host:this,context:x.Context})}async getIconData(){if(this.iconProviderContext.value){const{fileExtension:t,url:e}=this.iconProviderContext.value;if(e&&t&&this.name){const s=await y(e,this.name,t);this.iconData=s,this.setRoleOnIcon(),this.setAriaLabelOnIcon(),this.setAriaHiddenOnIcon()}}}updateSize(){if(this.computedIconSize&&(this.lengthUnit||this.lengthUnitFromContext)){const t=`${this.computedIconSize}${this.lengthUnit??this.lengthUnitFromContext}`;this.style.width=t,this.style.height=t}}setRoleOnIcon(){this.role=this.ariaLabel?"img":null}setAriaHiddenOnIcon(){var t;(t=this.iconData)==null||t.setAttribute("aria-hidden","true")}setAriaLabelOnIcon(){var t,e;this.ariaLabel?(t=this.iconData)==null||t.setAttribute("aria-label",this.ariaLabel):(e=this.iconData)==null||e.removeAttribute("aria-label")}get computedIconSize(){return this.size??this.sizeFromContext??p.SIZE}updated(t){var e,s,i,o;super.updated(t),t.has("name")&&this.getIconData().catch(h=>{console.error(h)}),t.has("ariaLabel")&&(this.setRoleOnIcon(),this.setAriaLabelOnIcon()),(t.has("size")||t.has("lengthUnit"))&&this.updateSize(),this.lengthUnitFromContext!==((e=this.iconProviderContext.value)==null?void 0:e.lengthUnit)&&(this.lengthUnitFromContext=(s=this.iconProviderContext.value)==null?void 0:s.lengthUnit,this.updateSize()),this.sizeFromContext!==((i=this.iconProviderContext.value)==null?void 0:i.size)&&(this.sizeFromContext=(o=this.iconProviderContext.value)==null?void 0:o.size,this.updateSize())}render(){return f` ${this.iconData} `}};u.styles=[...m.styles,...C];let n=u;r([c()],n.prototype,"iconData");r([c()],n.prototype,"lengthUnitFromContext");r([c()],n.prototype,"sizeFromContext");r([l({type:String,reflect:!0})],n.prototype,"name");r([l({type:Number})],n.prototype,"size");r([l({type:String,attribute:"length-unit"})],n.prototype,"lengthUnit");r([l({type:String,attribute:"aria-label"})],n.prototype,"ariaLabel");n.register(z);
